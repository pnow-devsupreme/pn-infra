# Target-Chart Values - Application Factory Pattern
# This file defines the default structure for generating ArgoCD applications

# Default repository configuration
default:
  repoURL: 'https://github.com/pnow-devsupreme/pn-infra.git'
  targetRevision: 'main'

# Stack name for generated applications (used in labels/annotations)
stackName: 'platform-security'

# Applications list - empty by default
# Override with values-{environment}.yaml files
applications: []

# Global configuration for all generated applications
global:
  # ArgoCD project for all applications
  project: 'security'

  # Default sync policy
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
    syncOptions:
    - 'CreateNamespace=true'
    - 'RespectIgnoreDifferences=true'

  # Default retry configuration
  retry:
    limit: 3
    backoff:
      duration: '5s'
      factor: 2
      maxDuration: '3m'

# Labels applied to all generated applications
commonLabels:
  app.kubernetes.io/managed-by: 'security-chart'
  app.kubernetes.io/part-of: 'platform'
  platform.pnats.cloud/stack: 'platform-security'

# Annotations applied to all generated applications
commonAnnotations:
  platform.pnats.cloud/generated-by: 'security-chart'
